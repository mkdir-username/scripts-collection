# JSON Contract Parser v2.2.0

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö JSON-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Å computed –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏, –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏ –∏ —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–æ–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ò–∑ v2.js (Production-ready)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `${}` template strings
- ‚úÖ –ü–æ–ª–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ `"${data.value}"`
- ‚úÖ –ß–∞—Å—Ç–∏—á–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ `"Hello ${state.name}!"`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ `if-then-else` –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ `$children` –º–∞—Å—Å–∏–≤–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `state`

### –ò–∑ v2.1.0.js (Advanced Features)
- ‚úÖ –û–û–ü –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (`JSONContractParser` –∫–ª–∞—Å—Å)
- ‚úÖ –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É computed –ø–æ–ª—è–º–∏
- ‚úÖ –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–ª–Ω—ã–º trace
- ‚úÖ –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Ñ–ª–∞–≥–∏ `--verbose` –∏ `--debug`

### –ò–∑ Python –≤–µ—Ä—Å–∏–∏ v2.py
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:
  - Computed —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
  - –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
  - IF-–≤—ã—Ä–∞–∂–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
  - $children —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ
  - –ö—ç—à –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (`ResolutionError`, `CircularDependencyError`)
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
- ‚úÖ Performance tracking —Å —Ç–∞–π–º–µ—Ä–∞–º–∏

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ v2.2.0
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å v2.js
- ‚úÖ `PerformanceTracker` –¥–ª—è –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É—Ä–æ–≤–Ω—è–º–∏ (info, debug, warn, error)
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ `--help`
- ‚úÖ JSDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º —É—Ç–∏–ª–∏—Ç

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd /Users/username/Scripts
chmod +x computed_data_parser_v2.2.0.js
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
node computed_data_parser_v2.2.0.js contract.json data.json
```

–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `pure.json`

### –° —É–∫–∞–∑–∞–Ω–∏–µ–º –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
node computed_data_parser_v2.2.0.js contract.json data.json result.json
```

### –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
node computed_data_parser_v2.2.0.js contract.json data.json -v
```

–í—ã–≤–æ–¥–∏—Ç:
- –ó–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ computed
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### –° –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

```bash
node computed_data_parser_v2.2.0.js contract.json data.json --debug
```

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤—ã–≤–æ–¥–∏—Ç:
- –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π computed
- –ü–æ—Ä—è–¥–æ–∫ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –ö–∞–∂–¥—ã–π —à–∞–≥ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—É—Ç–µ–π
- IF-—É—Å–ª–æ–≤–∏—è –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –≤–µ—Ç–∫–∏
- Stack trace –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

### –°–ø—Ä–∞–≤–∫–∞

```bash
node computed_data_parser_v2.2.0.js --help
```

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç (contract.json)

```json
{
  "data": {
    "title": "–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"
  },
  "state": {
    "isLoggedIn": true,
    "userName": "–ò–≤–∞–Ω"
  },
  "computed": {
    "greeting": {
      "type": "if",
      "if": "${state.isLoggedIn}",
      "$then": "–ü—Ä–∏–≤–µ—Ç, ${state.userName}!",
      "$else": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!"
    },
    "fullTitle": "${data.title} - ${computed.greeting}"
  },
  "rootElement": {
    "type": "Screen",
    "title": "${computed.fullTitle}",
    "$children": [
      "${data.header}",
      "${data.content}"
    ]
  }
}
```

### –í–Ω–µ—à–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ (data.json)

```json
{
  "header": {
    "type": "Header",
    "text": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å"
  },
  "content": {
    "type": "Content",
    "text": "–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç"
  }
}
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç (pure.json)

```json
{
  "rootElement": {
    "type": "Screen",
    "title": "–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!",
    "children": [
      {
        "type": "Header",
        "text": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å"
      },
      {
        "type": "Content",
        "text": "–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç"
      }
    ]
  }
}
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –≠—Ç–∞–ø—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

1. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**
   - –ß—Ç–µ–Ω–∏–µ `contract.json` –∏ `data.json`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è JSON

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
   - –°–ª–∏—è–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ `state`
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

3. **–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
   - –ê–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö `${...}` —Å—Å—ã–ª–æ–∫ –≤ computed
   - –í—ã—è–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –ø–æ–ª—è–º–∏

4. **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
   - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

5. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ computed**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `if-then-else`

6. **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ rootElement**
   - –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ `$children`
   - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏

#### –ü–æ–ª–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
```json
{
  "value": "${data.someValue}"
}
```

#### –ß–∞—Å—Ç–∏—á–Ω—ã–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
```json
{
  "message": "–ü—Ä–∏–≤–µ—Ç, ${state.userName}! –°–µ–≥–æ–¥–Ω—è ${state.date}"
}
```

#### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—É—Ç–∏
```json
{
  "deep": "${state.user.profile.name}",
  "array": "${state.items[0].title}"
}
```

### –£—Å–ª–æ–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

#### –§–æ—Ä–º–∞—Ç if-then-else
```json
{
  "computed": {
    "status": {
      "type": "if",
      "if": "${state.isActive}",
      "$then": "–ê–∫—Ç–∏–≤–µ–Ω",
      "$else": "–ù–µ–∞–∫—Ç–∏–≤–µ–Ω"
    }
  }
}
```

#### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
```json
{
  "computed": {
    "message": {
      "type": "if",
      "$if": "${state.hasError}",
      "$then": "${state.errorMessage}",
      "$else": "–í—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ"
    }
  }
}
```

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

#### $children
–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ `children` —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –º–∞—Å—Å–∏–≤–∞:

```json
{
  "$children": [
    "${data.header}",
    "${data.content}",
    "${data.footer}"
  ]
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```json
{
  "children": [
    { "type": "Header", ... },
    { "type": "Content", ... },
    { "type": "Footer", ... }
  ]
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
üîÑ –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:
   computed.a ‚Üí computed.b ‚Üí computed.c ‚Üí computed.a
```

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
```
‚ùå –û—à–∏–±–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—É—Ç—å: ${data.missing.key} –Ω–∞ —á–∞—Å—Ç–∏ "missing"
–ü—É—Ç—å: data ‚Üí "missing"
–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—é—á–∏: title, header, content
```

### –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏
```
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ computed.greeting:
parsePath expects a template ref, got: plain string
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ computed**
   - –ö–∞–∂–¥–æ–µ computed –ø–æ–ª–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
   - –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ –∫—ç—à–∞

2. **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**
   - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   - –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–æ—Ö–æ–¥–æ–≤

3. **–û–¥–Ω–æ–ø—Ä–æ—Ö–æ–¥–Ω—ã–π –≥—Ä–∞—Ñ**
   - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∑–∞ O(n)
   - –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ú–µ—Ç—Ä–∏–∫–∏

–¢–∏–ø–∏—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (50 KB):

```
============================================================
üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–ê–†–°–ò–ù–ì–ê
============================================================
‚è±Ô∏è  –û–±—â–µ–µ –≤—Ä–µ–º—è:          45ms
üìä –†–∞–∑–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:     85,432 —Å–∏–º–≤–æ–ª–æ–≤ (83.4 KB)
‚öôÔ∏è  Computed —Ä–∞–∑—Ä–µ—à–µ–Ω–æ:    12
üíæ –ö—ç—à –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω:       0 —Ä–∞–∑
üîó –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: 37
‚ùì IF-–≤—ã—Ä–∞–∂–µ–Ω–∏–π:          5
üì¶ $children —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ:  3
============================================================
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –º–æ–¥—É–ª—å

### Import

```javascript
const {
  JSONContractParser,
  ResolutionError,
  CircularDependencyError,
  isTemplateRef,
  parsePath,
  resolvePath
} = require('./computed_data_parser_v2.2.0.js');
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```javascript
const parser = new JSONContractParser(
  './contract.json',
  './data.json',
  { verbose: true, debug: false }
);

try {
  const result = parser.parse();
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', JSON.stringify(result, null, 2));
} catch (error) {
  if (error instanceof CircularDependencyError) {
    console.error('–¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:', error.cycle);
  } else if (error instanceof ResolutionError) {
    console.error('–û—à–∏–±–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:', error.message);
    console.error('–ö–æ–Ω—Ç–µ–∫—Å—Ç:', error.context);
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç

```javascript
const { isTemplateRef, parsePath, resolvePath } = require('./computed_data_parser_v2.2.0.js');

// –ü—Ä–æ–≤–µ—Ä–∫–∞ template reference
console.log(isTemplateRef('${data.value}')); // true
console.log(isTemplateRef('plain string'));   // false

// –ü–∞—Ä—Å–∏–Ω–≥ –ø—É—Ç–∏
const parts = parsePath('${state.user.items[0].name}');
console.log(parts); // ['state', 'user', 'items', 0, 'name']

// –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—É—Ç–∏
const context = {
  data: { title: 'Test' },
  state: { user: { name: 'Alice' } }
};
const value = resolvePath(context, '${state.user.name}');
console.log(value); // 'Alice'
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π

### –ò–∑ v2.js

–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å. –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é:

```bash
# –ë—ã–ª–æ
node computed_data_parser_v2.js contract.json data.json

# –°—Ç–∞–ª–æ
node computed_data_parser_v2.2.0.js contract.json data.json
```

### –ò–∑ v2.1.0.js

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã, –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ:

```javascript
// v2.1.0
const { evaluateComputed, substitute } = require('./v2.1.0.js');

// v2.2.0 - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ + –Ω–æ–≤—ã–µ
const {
  JSONContractParser,  // –ù–æ–≤—ã–π –∫–ª–∞—Å—Å
  evaluateComputed,    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ
  substitute,          // –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ
  ResolutionError,     // –ù–æ–≤–æ–µ
  PerformanceTracker   // –ù–æ–≤–æ–µ
} = require('./v2.2.0.js');
```

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Cannot find module"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –ø—É—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
```bash
ls -la /Users/username/Scripts/computed_data_parser_v2.2.0.js
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"
**–†–µ—à–µ–Ω–∏–µ:** –°–¥–µ–ª–∞–π—Ç–µ —Ñ–∞–π–ª –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x computed_data_parser_v2.2.0.js
```

### –ü—Ä–æ–±–ª–µ–º–∞: –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--debug` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```bash
node computed_data_parser_v2.2.0.js contract.json data.json --debug
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –≤—ã–≤–æ–¥–µ.

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å `-v`:
```bash
node computed_data_parser_v2.2.0.js contract.json data.json -v
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏ IF-–≤—ã—Ä–∞–∂–µ–Ω–∏–π.

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç

**contract.json**
```json
{
  "data": {
    "appName": "MyApp"
  },
  "state": {},
  "computed": {},
  "rootElement": {
    "type": "Screen",
    "title": "${data.appName}"
  }
}
```

**data.json**
```json
{}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**
```json
{
  "rootElement": {
    "type": "Screen",
    "title": "MyApp"
  }
}
```

### –ü—Ä–∏–º–µ—Ä 2: –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞

**contract.json**
```json
{
  "computed": {
    "buttonText": {
      "type": "if",
      "if": "${state.isLoading}",
      "$then": "–ó–∞–≥—Ä—É–∑–∫–∞...",
      "$else": "–ù–∞–∂–∞—Ç—å"
    }
  },
  "rootElement": {
    "type": "Button",
    "text": "${computed.buttonText}"
  }
}
```

**data.json**
```json
{
  "isLoading": true
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**
```json
{
  "rootElement": {
    "type": "Button",
    "text": "–ó–∞–≥—Ä—É–∑–∫–∞..."
  }
}
```

### –ü—Ä–∏–º–µ—Ä 3: $children —Å –º–∞—Å—Å–∏–≤–∞–º–∏

**contract.json**
```json
{
  "rootElement": {
    "type": "Container",
    "$children": [
      "${state.items[0]}",
      "${state.items[1]}"
    ]
  }
}
```

**data.json**
```json
{
  "items": [
    { "type": "Item", "id": 1 },
    { "type": "Item", "id": 2 }
  ]
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**
```json
{
  "rootElement": {
    "type": "Container",
    "children": [
      { "type": "Item", "id": 1 },
      { "type": "Item", "id": 2 }
    ]
  }
}
```

## Changelog

### v2.2.0 (2025-10-07)
- ‚ú® –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ª—É—á—à–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π v2.js –∏ v2.1.0.js
- ‚ú® –ö–ª–∞—Å—Å `JSONContractParser` —Å –û–û–ü –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- ‚ú® `PerformanceTracker` –¥–ª—è –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚ú® –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è `ResolutionError`, `CircularDependencyError`
- ‚ú® –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- ‚ú® –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
- ‚ú® –§–ª–∞–≥–∏ `--verbose` –∏ `--debug`
- ‚ú® –°–ø—Ä–∞–≤–∫–∞ `--help`
- ‚ú® JSDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚ú® –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å v2.js

### v2.1.0
- –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–∏–∫–ª–æ–≤

### v2.0
- –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `${}` –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫
- IF-–≤—ã—Ä–∞–∂–µ–Ω–∏—è
- $children

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ê–≤—Ç–æ—Ä

Generated with Claude Code (https://claude.com/claude-code)
